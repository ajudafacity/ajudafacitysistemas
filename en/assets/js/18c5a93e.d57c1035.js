"use strict";(self.webpackChunkajudafacitysistemas=self.webpackChunkajudafacitysistemas||[]).push([[6730],{298:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var r=t(6540),n=t(543),a=t(7274),c=t(2697),l=t(4848);let i=null,o=null;function u(e){return e?String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():""}async function d(){if(i)return i;try{const s=window.location.pathname,t=[`${s.includes("/en/")||s.startsWith("/en")?"/en":""}/flexsearch-index.json`,"/flexsearch-index.json","../flexsearch-index.json"];let r=null,n=null;for(const a of t)try{if(r=await fetch(a),r.ok&&r.headers.get("content-type")?.includes("application/json"))break}catch(e){n=e;continue}if(!r||!r.ok)throw new Error(n||`HTTP ${r?.status}: ${r?.statusText||"Arquivo n\xe3o encontrado"}`);const c=await r.json();return c.docs&&0!==c.docs.length?(o=c.docs,i=a.Ay.Document({document:{id:"id",index:[{field:"title",tokenize:"forward",optimize:!0,resolution:9},{field:"content",tokenize:"forward",optimize:!0,resolution:5}]},charset:"latin:advanced",threshold:0,depth:2,encode:e=>{const s=u(e);return s?s.split(/\s+/):[]}}),c.docs.forEach(((e,s)=>{i.add({id:s,title:u(e.title||""),content:u(e.content||"")})})),i):(console.warn("\u26a0\ufe0f FlexSearch: Nenhum documento encontrado no \xedndice"),null)}catch(e){return console.error("\u274c Erro ao carregar \xedndice FlexSearch:",e),null}}function h(){const[e,s]=(0,r.useState)(""),[t,a]=(0,r.useState)([]),[i,h]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),[p,x]=(0,r.useState)(-1),g=(0,r.useRef)(null),j=(0,r.useRef)(null);(0,r.useEffect)((()=>(d().then((e=>{e&&(f(!0),setTimeout((()=>{g.current?.focus()}),100))})),()=>{j.current&&clearTimeout(j.current)})),[]);const w=(0,r.useCallback)((async e=>{s(e),x(-1),j.current&&clearTimeout(j.current),!e||e.trim().length<2?a([]):(h(!0),j.current=setTimeout((async()=>{const s=await d();if(!s||!o)return a([]),void h(!1);try{const t=u(e),r=s.search(t,{limit:15,enrich:!0}),n=[],c=new Set;Array.isArray(r)&&r.forEach((e=>{e&&e.result&&Array.isArray(e.result)&&e.result.forEach((e=>{if(!c.has(e)&&o&&o[e]){c.add(e);const s=o[e],t=s.content||"",r=t.length>200?t.substring(0,200)+"...":t;n.push({id:e,title:s.title,url:s.url,content:r})}}))})),a(n)}catch(t){console.error("\u274c Erro na busca:",t),a([])}h(!1)}),150))}),[]),v=(e,s)=>{if(!e||!s||s.length<2)return e;e.toLowerCase();const t=u(s).split(/\s+/).filter((e=>e.length>0));if(0===t.length)return e;const r=new RegExp(`(${t.map((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))).join("|")})`,"gi");return e.split(r).map(((e,s)=>t.some((s=>u(e).includes(s)))?(0,l.jsx)("mark",{className:c.A.highlight,children:e},s):e))};return(0,r.useEffect)((()=>{if(0===t.length)return void x(-1);const e=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),x((e=>e<t.length-1?e+1:e));break;case"ArrowUp":e.preventDefault(),x((e=>e>0?e-1:-1));break;case"Enter":p>=0&&t[p]&&(e.preventDefault(),window.location.href=t[p].url);break;case"Escape":e.preventDefault(),window.history.back()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[t,p]),(0,l.jsx)(n.A,{title:"Buscar",description:"Buscar na documenta\xe7\xe3o",children:(0,l.jsxs)("div",{className:c.A.searchPageContainer,children:[(0,l.jsxs)("div",{className:c.A.searchPageHeader,children:[(0,l.jsxs)("div",{className:c.A.searchPageInputWrapper,children:[(0,l.jsx)("svg",{className:c.A.searchPageIcon,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M19 19L13 13M15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,l.jsx)("input",{ref:g,type:"search",placeholder:"Digite para buscar na documenta\xe7\xe3o...",value:e,onChange:e=>w(e.target.value),className:c.A.searchPageInput,disabled:!m,"aria-label":"Buscar na documenta\xe7\xe3o",autoComplete:"off"})]}),(0,l.jsx)("button",{className:c.A.searchPageCloseButton,onClick:()=>window.history.back(),"aria-label":"Fechar busca",children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,l.jsx)("path",{d:"M18 6L6 18M6 6L18 18",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,l.jsx)("div",{className:c.A.searchPageResults,children:!e||e.length<2?(0,l.jsxs)("div",{className:c.A.searchPageEmpty,children:[(0,l.jsxs)("svg",{className:c.A.searchPageEmptyIcon,width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,l.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,l.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,l.jsx)("div",{className:c.A.searchPageEmptyTitle,children:"Buscar na documenta\xe7\xe3o"}),(0,l.jsx)("div",{className:c.A.searchPageEmptySubtitle,children:"Digite palavras-chave para encontrar o que voc\xea procura"})]}):i?(0,l.jsxs)("div",{className:c.A.searchLoading,children:[(0,l.jsx)("div",{className:c.A.spinner}),(0,l.jsx)("span",{children:"Buscando..."})]}):t.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:c.A.searchResultsHeader,children:(0,l.jsxs)("span",{className:c.A.resultsCount,children:[t.length," ",1===t.length?"resultado":"resultados"]})}),(0,l.jsx)("ul",{className:c.A.searchResultsList,children:t.map(((s,t)=>(0,l.jsx)("li",{className:c.A.searchResultItem,children:(0,l.jsxs)("a",{href:s.url,onClick:e=>{e.preventDefault(),window.location.href=s.url},className:`${c.A.searchResultLink} ${p===t?c.A.searchResultLinkSelected:""}`,onMouseEnter:()=>x(t),children:[(0,l.jsx)("div",{className:c.A.searchResultTitle,children:v(s.title,e)}),(0,l.jsx)("div",{className:c.A.searchResultContent,children:v(s.content,e)}),(0,l.jsx)("div",{className:c.A.searchResultUrl,children:s.url})]})},s.id)))})]}):(0,l.jsxs)("div",{className:c.A.searchNoResults,children:[(0,l.jsxs)("svg",{className:c.A.noResultsIcon,width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,l.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,l.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,l.jsx)("div",{className:c.A.noResultsTitle,children:"Nenhum resultado encontrado"}),(0,l.jsx)("div",{className:c.A.noResultsSubtitle,children:"Tente buscar com termos diferentes ou verifique a ortografia"})]})})]})})}}}]);