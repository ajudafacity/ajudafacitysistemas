/**
 * Any CSS included here will be global. The classic template
 * bundles Infima by default. Infima is a CSS framework designed to
 * work well for content-centric websites.
 */

/* Importa melhorias de busca */
@import './search-enhancements.css';

/* You can override the default Infima variables here. */
:root {
  --ifm-color-primary: #2e8555;
  --ifm-color-primary-dark: #29784c;
  --ifm-color-primary-darker: #277148;
  --ifm-color-primary-darkest: #205d3b;
  --ifm-color-primary-light: #33925d;
  --ifm-color-primary-lighter: #359962;
  --ifm-color-primary-lightest: #3cad6e;
  --ifm-code-font-size: 95%;
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.1);
}

/* For readability concerns, you should choose a lighter palette in dark mode. */
[data-theme='dark'] {
  --ifm-color-primary: #25c2a0;
  --ifm-color-primary-dark: #21af90;
  --ifm-color-primary-darker: #1fa588;
  --ifm-color-primary-darkest: #1a8870;
  --ifm-color-primary-light: #29d5b0;
  --ifm-color-primary-lighter: #32d8b4;
  --ifm-color-primary-lightest: #4fddbf;
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.3);
}

/* Garante que o SearchBar results apareça sobre tudo */
body {
  position: relative;
}

/* Remove qualquer limitação de z-index de containers do Docusaurus */
.navbar,
.navbar__inner,
.navbar__items,
.navbar__item,
.main-wrapper,
.docMainContainer_TBSr,
.container,
.row,
.col {
  position: relative;
  z-index: auto !important;
}

/* Garante que elementos do conteúdo principal não criem novo stacking context */
.docMainContainer_TBSr *,
.container *,
.row *,
.col * {
  position: relative;
  z-index: auto !important;
}

/* Fix para menu lateral mobile - remove transparência e ajusta z-index */
@media (max-width: 996px) {
  /* Backdrop do menu lateral - cobre toda a tela com cor sólida do sistema */
  .navbar-sidebar__backdrop {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    height: 100dvh !important;
    background-color: var(--ifm-background-color) !important;
    background: var(--ifm-background-color) !important;
    opacity: 1 !important;
    z-index: 200 !important;
    margin: 0 !important;
    padding: 0 !important;
    transform: translateZ(0) !important;
    will-change: transform !important;
    backface-visibility: hidden !important;
    -webkit-backface-visibility: hidden !important;
  }

  /* Garante cor sólida no modo claro */
  [data-theme='light'] .navbar-sidebar__backdrop {
    background-color: #ffffff !important;
    background: #ffffff !important;
  }

  /* Garante cor sólida no modo escuro */
  [data-theme='dark'] .navbar-sidebar__backdrop {
    background-color: #1e1e1e !important;
    background: #1e1e1e !important;
  }

  /* Menu lateral em si - opacidade máxima e sobreposto */
  .navbar-sidebar {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    bottom: 0 !important;
    background-color: var(--ifm-background-color) !important;
    background: var(--ifm-background-color) !important;
    opacity: 1 !important;
    z-index: 201 !important;
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1) !important;
    transform: translateZ(0) !important;
    will-change: transform !important;
    backface-visibility: hidden !important;
    -webkit-backface-visibility: hidden !important;
  }

  /* Garante cor sólida no modo claro */
  [data-theme='light'] .navbar-sidebar {
    background-color: #ffffff !important;
    background: #ffffff !important;
  }

  /* Garante cor sólida no modo escuro */
  [data-theme='dark'] .navbar-sidebar {
    background-color: #1e1e1e !important;
    background: #1e1e1e !important;
  }

  /* Garante que o conteúdo do menu lateral também tenha opacidade total */
  .navbar-sidebar * {
    opacity: 1 !important;
  }

  /* Previne que o conteúdo principal apareça através do menu */
  .main-wrapper {
    position: relative;
    z-index: 1 !important;
  }

  /* Quando o menu está aberto, esconde o conteúdo principal */
  body.navbar-sidebar--show .main-wrapper,
  body.navbar-sidebar--show .docMainContainer_TBSr,
  body.navbar-sidebar--show .container,
  body.navbar-sidebar--show .row,
  body.navbar-sidebar--show .col {
    position: relative;
    z-index: 1 !important;
  }

  /* Garante que o navbar também fique atrás do menu */
  body.navbar-sidebar--show .navbar {
    z-index: 199 !important;
  }

  /* Oculta o botão "Voltar para o menu principal" no mobile */
  .navbar-sidebar__back-button,
  button[aria-label*="Voltar para o menu principal"],
  .navbar-sidebar__back {
    display: none !important;
  }

  /* Oculta o primeiro item do menu que contém o link de voltar */
  .navbar-sidebar .menu__list > .menu__list-item:first-child {
    display: none !important;
  }
}